<Window x:Class="TaskTimer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TaskTimer"
        mc:Ignorable="d"
        Title="MainWindow" Height="471.557" Width="572.024">
    <Window.Resources>
        <Style x:Key="TaskListViewHeaderStyle" TargetType="{x:Type GridViewColumnHeader}">
            <Setter Property="Visibility" Value="Collapsed"/>
            <Setter Property="Background" Value="White"/>
        </Style>
        <DataTemplate x:Key="TaskListViewCellTemplate">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock Text="{Binding Alias}" MouseDown="TextBlock_MouseDown" Grid.Row="0" />
                <TextBox Text="{Binding Alias, Mode=TwoWay}" LostFocus="TextBox_LostFocus" Visibility="Collapsed" Grid.Row="0" />
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="TaskListViewCellTemplateTime">
            <Grid>
                <TextBlock Text="{Binding Time}" />
            </Grid>
        </DataTemplate>
    </Window.Resources>
    <Grid>
        <Canvas Height="47" VerticalAlignment="Top" Background="#FFB7FF84">
            <Button Click="Button_Timer_Click" Content="Button" Height="29" Canvas.Left="10" Canvas.Top="10" Width="122"/>
            <TextBlock Height="27" Canvas.Left="424" TextWrapping="Wrap" Text="{Binding BaseCount}" Canvas.Top="10" Width="130" FontWeight="Bold" TextAlignment="Center" FontSize="20"/>
        </Canvas>
        <Grid Margin="0,47,0,84" Background="#FF98E8FF">
            <ListBox x:Name="TaskKey1" ItemsSource="{Binding Key}" SelectedIndex="{Binding SelectedIndex, Mode=TwoWay}" IsSynchronizedWithCurrentItem="True" Margin="10,10,196,73" Background="White">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock Text="{Binding Alias}" MouseDown="TextBlock_MouseDown" Grid.Row="0" />
                            <TextBox Text="{Binding Alias, Mode=TwoWay}" LostFocus="TextBox_LostFocus" Visibility="Collapsed" Grid.Row="0" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            <!--
            <ListBox x:Name="TaskKey2" ItemsSource="{Binding Key/SubKey}" SelectedIndex="{Binding SelectedIndexSub, Mode=TwoWay}" IsSynchronizedWithCurrentItem="True" Margin="0,10,10,39" Background="White" HorizontalAlignment="Right" Width="214">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock Text="{Binding Alias}" MouseDown="TextBlock_MouseDown" Grid.Row="0" />
                            <TextBox Text="{Binding Alias, Mode=TwoWay}" LostFocus="TextBox_LostFocus" Visibility="Collapsed" Grid.Row="0" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            -->
            <Grid Margin="0,10,10,73" Background="White" HorizontalAlignment="Right" Width="181"/>
            <ListView ItemsSource="{Binding Key/SubKey}" SelectedIndex="{Binding SelectedIndexSub, Mode=TwoWay}" IsSynchronizedWithCurrentItem="True" Margin="0,10,10,73" Background="White" HorizontalAlignment="Right" Width="181">
                <ListView.View>
                    <GridView ColumnHeaderContainerStyle="{StaticResource ResourceKey=TaskListViewHeaderStyle}">
                        <GridViewColumn Width="70" CellTemplate="{StaticResource TaskListViewCellTemplate}" />
                        <GridViewColumn CellTemplate="{StaticResource TaskListViewCellTemplateTime}" />
                    </GridView>
                </ListView.View>
            </ListView>
            <TextBox Text="{Binding Key/Code, Mode=TwoWay}" HorizontalAlignment="Left" Height="24" Margin="10,0,0,44" TextWrapping="Wrap" VerticalAlignment="Bottom" Width="159"/>
            <TextBox Text="{Binding Key/Name, Mode=TwoWay}" Height="24" Margin="174,0,196,44" TextWrapping="Wrap" VerticalAlignment="Bottom"/>
            <TextBox Text="{Binding Key/SubKey/Code, Mode=TwoWay}" Height="24" Margin="0,0,98,44" TextWrapping="Wrap" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="93"/>
            <!--<TextBox Text="{Binding SelectTask, Mode=OneWay}" HorizontalAlignment="Left" Margin="11,0,0,10" TextWrapping="Wrap" Width="438" Height="24" VerticalAlignment="Bottom"/>-->
            <Button Click="Button_AddTask_Click" Content="Task追加" HorizontalAlignment="Left" Margin="10,0,0,10" Width="115" Height="27" VerticalAlignment="Bottom"/>
            <Button Click="Button_AddSubTask_Click" Content="SubTask追加" HorizontalAlignment="Left" Margin="142,0,0,10" Width="123" Height="27" VerticalAlignment="Bottom"/>
        </Grid>
        <Grid Background="#FFFAFF99" Height="84" VerticalAlignment="Bottom">
        </Grid>
    </Grid>
</Window>
